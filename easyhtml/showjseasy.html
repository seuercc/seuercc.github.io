<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Window非默认对象查看器</title>
    <style>
        /* 合并重复样式，精简CSS */
        *{margin:0;padding:0;box-sizing:border-box}
        body{font:14px/1.6 "Microsoft YaHei",Arial,sans-serif;padding:20px;background:#f5f7fa;color:#333}
        .header{margin-bottom:30px;padding-bottom:15px;border-bottom:2px solid #4299e1}
        .header h1{font-size:22px;color:#2d3748;margin-bottom:8px}
        .header p{color:#718096}
        .obj-item{margin:20px 0;background:#fff;border-radius:8px;padding:15px;box-shadow:0 1px 3px rgba(0,0,0,0.05)}
        .obj-name{font-size:16px;font-weight:600;color:#2b6cb0;margin-bottom:10px;display:flex;align-items:center}
        .obj-name::before{content:"●";color:#4299e1;margin-right:8px;font-size:12px}
        .method-list{margin-left:20px}
        .method-item{margin:6px 0;padding:4px 8px;border-radius:4px;background:#f8f9fa}
        .type-tag{display:inline-block;padding:2px 6px;border-radius:3px;font-size:12px;color:#fff;margin-right:10px}
        /* 类型配色保留核心，无需额外注释 */
        .type-function{background:#9f7aea}.type-object{background:#38b2ac}.type-string{background:#48bb78}.type-number{background:#ed8936}.type-boolean{background:#e53e3e}.type-undefined{background:#718096}
    </style>
</head>
<body>
    <div class="header">
        <h1>Window非默认对象及方法查看器</h1>
        <p>自动过滤系统默认对象，仅展示新增对象及其属性/方法</p>
    </div>
    <div id="res"></div>

    <script>
        // 1. 精简默认对象列表（去除重复项，保留核心）
        const defaultProps = [
            "postMessage","blur","focus","close","parent","opener","top","length","frames","closed","location","self","window","document","name","customElements","history","locationbar","menubar","personalbar","scrollbars","statusbar","toolbar","status","frameElement","navigator","origin","external","screen","innerWidth","innerHeight","scrollX","pageXOffset","scrollY","pageYOffset","visualViewport","screenX","screenY","outerWidth","outerHeight","devicePixelRatio","clientInformation","screenLeft","screenTop","defaultStatus","defaultstatus","styleMedia",
            "onanimationend","onanimationiteration","onanimationstart","onsearch","ontransitionend","onwebkitanimationend","onwebkitanimationiteration","onwebkitanimationstart","onwebkittransitionend","isSecureContext","onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel","onauxclick","ongotpointercapture","onlostpointercapture","onpointerdown","onpointermove","onpointerup","onpointercancel","onpointerover","onpointerout","onpointerenter","onpointerleave","onselectstart","onselectionchange","onafterprint","onbeforeprint","onbeforeunload","onhashchange","onlanguagechange","onmessage","onmessageerror","onoffline","ononline","onpagehide","onpageshow","onpopstate","onrejectionhandled","onstorage","onunhandledrejection","onunload",
            "performance","stop","open","alert","confirm","prompt","print","queueMicrotask","requestAnimationFrame","cancelAnimationFrame","captureEvents","releaseEvents","requestIdleCallback","cancelIdleCallback","getComputedStyle","matchMedia","moveTo","moveBy","resizeTo","resizeBy","scroll","scrollTo","scrollBy","getSelection","find","webkitRequestAnimationFrame","webkitCancelAnimationFrame","fetch","btoa","atob","setTimeout","clearTimeout","setInterval","clearInterval","createImageBitmap",
            "onappinstalled","onbeforeinstallprompt","crypto","ondevicemotion","ondeviceorientation","ondeviceorientationabsolute","indexedDB","webkitStorageInfo","sessionStorage","localStorage","orientation","onorientationchange","openDatabase","ontouchcancel","ontouchend","ontouchmove","ontouchstart","attr_list","attr","obj","TEMPORARY","PERSISTENT","addEventListener","removeEventListener","dispatchEvent","navigation","trustedTypes","scheduler","chrome","caches","cookieStore","launchQueue","sharedStorage","documentPictureInPicture","speechSynthesis","webpackChunk","Turbo","litHtmlVersions","event","onbeforexrselect","onbeforeinput","onbeforematch","onbeforetoggle","oncontentvisibilityautostatechange","oncontextlost","oncontextrestored","onformdata","onsecuritypolicyviolation","onslotchange","onpointerrawupdate","ontransitionrun","ontransitionstart","ontransitioncancel","crossOriginIsolated","reportError","structuredClone","getScreenDetails","queryLocalFonts","showDirectoryPicker","showOpenFilePicker","showSaveFilePicker","originAgentCluster","onpageswap","onpagereveal","credentialless","fence","onscrollend","onscrollsnapchange","onscrollsnapchanging","webkitRequestFileSystem","webkitResolveLocalFileSystemURL"
        ];

        // 2. 过滤非默认对象 + 构建HTML（合并两步操作，减少变量）
        const res = document.getElementById("res"),
              customs = Object.keys(window).filter(k => !defaultProps.includes(k) && typeof k === "string");

        // 3. 精简DOM构建逻辑（用模板字符串直接拼接，无冗余变量）
        res.innerHTML = `
            <div class="header"><p>共找到 <strong style="color:#4299e1">${customs.length}</strong> 个非默认对象</p></div>
            ${customs.map(k => `
                <div class="obj-item">
                    <div class="obj-name">${k}</div>
                    <div class="method-list">
                        ${Object.keys(window[k]).map(p => `
                            <div class="method-item">
                                <span class="type-tag type-${typeof window[k][p]}">${typeof window[k][p]}</span>${p}
                            </div>
                        `).join("")}
                    </div>
                </div>
            `).join("") || '<div style="text-align:center;padding:50px;color:#718096">未检测到非默认对象</div>'}
        `;
    </script>
</body>
</html>
