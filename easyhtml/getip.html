<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è®¾å¤‡ä¿¡æ¯æ£€æµ‹å™¨</title>
  <style>
    /* åŸºç¡€æ ·å¼ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    }
    
    body {
      background-color: #f5f7fa;
      color: #333;
      line-height: 1.6;
      padding-top: 70px;
      min-height: 100vh;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* å¤´éƒ¨æ ·å¼ */
    header {
      background: linear-gradient(135deg, #165DFF 0%, #0A337A 100%);
      color: white;
      padding: 15px 0;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      z-index: 100;
      transition: padding 0.3s ease;
    }
    
    header .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .header-title {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1.2rem;
      font-weight: bold;
    }
    
    .refresh-btn {
      background-color: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      padding: 8px 15px;
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 5px;
      transition: background-color 0.3s ease;
    }
    
    .refresh-btn:hover {
      background-color: rgba(255, 255, 255, 0.3);
    }
    
    /* ä¸»å†…å®¹åŒº */
    main {
      padding: 20px 0 40px;
    }
    
    /* çŠ¶æ€å¡ç‰‡ */
    .status-cards {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      margin-bottom: 30px;
    }
    
    @media (min-width: 768px) {
      .status-cards {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    
    .status-card {
      background: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      transition: transform 0.3s ease;
    }
    
    .status-card:hover {
      transform: translateY(-3px);
    }
    
    .status-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .status-title {
      font-weight: 600;
      color: #555;
    }
    
    .status-badge {
      font-size: 0.8rem;
      padding: 3px 10px;
      border-radius: 20px;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .status-content {
      color: #666;
      font-size: 0.9rem;
    }
    
    /* ä¿¡æ¯å¡ç‰‡å®¹å™¨ */
    .info-cards {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
    }
    
    @media (min-width: 1024px) {
      .info-cards {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    .info-card {
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }
    
    .info-card.full-width {
      grid-column: 1 / -1;
    }
    
    .card-header {
      padding: 15px 20px;
      border-bottom: 1px solid #f0f0f0;
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 600;
    }
    
    .card-body {
      padding: 20px;
    }
    
    /* ä¿¡æ¯é¡¹æ ·å¼ */
    .info-list {
      max-height: 400px;
      overflow-y: auto;
      padding-right: 10px;
    }
    
    .info-item {
      padding: 12px 0;
      border-bottom: 1px solid #f0f0f0;
    }
    
    .info-item:last-child {
      border-bottom: none;
    }
    
    .info-label {
      color: #666;
      font-size: 0.9rem;
      margin-bottom: 5px;
      font-weight: 500;
    }
    
    .info-value {
      color: #333;
      font-family: monospace;
      font-size: 0.9rem;
      word-break: break-all;
    }
    
    /* å‰ªè´´æ¿åŒºåŸŸ */
    .clipboard-actions {
      display: flex;
      flex-wrap: gap;
      gap: 15px;
      margin-bottom: 20px;
    }
    
    .clipboard-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
      transition: opacity 0.3s ease;
    }
    
    .clipboard-btn:hover {
      opacity: 0.9;
    }
    
    .clipboard-content {
      min-height: 120px;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      padding: 15px;
      background-color: #f9f9f9;
      font-family: monospace;
      font-size: 0.9rem;
      color: #555;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    
    .clipboard-note {
      margin-top: 15px;
      font-size: 0.85rem;
      color: #777;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    /* é¡µè„šæ ·å¼ */
    footer {
      background-color: #1e293b;
      color: #94a3b8;
      padding: 30px 0;
      margin-top: 50px;
    }
    
    .footer-content {
      text-align: center;
      font-size: 0.9rem;
    }
    
    .footer-content p {
      margin-bottom: 8px;
    }
    
    /* é€šçŸ¥ç»„ä»¶ */
    .notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #1e293b;
      color: white;
      padding: 12px 20px;
      border-radius: 6px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      display: flex;
      align-items: center;
      gap: 10px;
      transform: translateY(100px);
      opacity: 0;
      transition: transform 0.3s ease, opacity 0.3s ease;
      z-index: 1000;
    }
    
    .notification.show {
      transform: translateY(0);
      opacity: 1;
    }
    
    /* é¢œè‰²æ ·å¼ */
    .bg-primary {
      background-color: #165DFF;
    }
    
    .bg-primary-light {
      background-color: rgba(22, 93, 255, 0.1);
      color: #165DFF;
    }
    
    .bg-secondary {
      background-color: #36D399;
    }
    
    .bg-secondary-light {
      background-color: rgba(54, 211, 153, 0.1);
      color: #36D399;
    }
    
    .bg-warning {
      background-color: #FBBD23;
      color: white;
    }
    
    .bg-warning-light {
      background-color: rgba(251, 189, 35, 0.1);
      color: #FBBD23;
    }
    
    .bg-success {
      background-color: #36D399;
      color: white;
    }
    
    .bg-danger {
      background-color: #F87272;
      color: white;
    }
    
    .bg-gray {
      background-color: #f1f5f9;
      color: #64748b;
    }
  </style>
</head>
<body>
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <header>
    <div class="container">
      <div class="header-title">
        <span>ğŸ”Œ</span>
        <h1>è®¾å¤‡ä¿¡æ¯æ£€æµ‹å™¨</h1>
      </div>
      <button id="refreshBtn" class="refresh-btn">
        <span>ğŸ”„</span> åˆ·æ–°
      </button>
    </div>
  </header>

  <!-- ä¸»å†…å®¹åŒº -->
  <main class="container">
    <!-- çŠ¶æ€å¡ç‰‡ -->
    <div class="status-cards">
      <div class="status-card">
        <div class="status-header">
          <h3 class="status-title">è®¾å¤‡çŠ¶æ€</h3>
          <span id="deviceStatus" class="status-badge bg-success">
            <span>âœ“</span>æ­£å¸¸
          </span>
        </div>
        <p id="deviceType" class="status-content"></p>
      </div>
      
      <div class="status-card">
        <div class="status-header">
          <h3 class="status-title">ç½‘ç»œçŠ¶æ€</h3>
          <span id="networkStatus" class="status-badge bg-warning">
            <span>âŸ³</span>æ£€æµ‹ä¸­
          </span>
        </div>
        <p id="connectionType" class="status-content"></p>
      </div>
      
      <div class="status-card">
        <div class="status-header">
          <h3 class="status-title">å‰ªè´´æ¿</h3>
          <span id="clipboardStatus" class="status-badge bg-gray">
            <span>ğŸ“‹</span>æœªè®¿é—®
          </span>
        </div>
        <p id="clipboardPreview" class="status-content">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è·å–å‰ªè´´æ¿å†…å®¹</p>
      </div>
    </div>
    
    <!-- ä¿¡æ¯å¡ç‰‡å®¹å™¨ -->
    <div class="info-cards">
      <!-- è®¾å¤‡ä¿¡æ¯å¡ç‰‡ -->
      <div class="info-card">
        <div class="card-header bg-primary-light">
          <span>ğŸ–¥ï¸</span>
          <h2>è®¾å¤‡ä¿¡æ¯</h2>
        </div>
        <div class="card-body">
          <div class="info-list">
            <div class="info-item">
              <div class="info-label">ç”¨æˆ·ä»£ç†</div>
              <div class="info-value" id="userAgent"></div>
            </div>
            <div class="info-item">
              <div class="info-label">æµè§ˆå™¨åç§°</div>
              <div class="info-value" id="browserName"></div>
            </div>
            <div class="info-item">
              <div class="info-label">æµè§ˆå™¨ç‰ˆæœ¬</div>
              <div class="info-value" id="browserVersion"></div>
            </div>
            <div class="info-item">
              <div class="info-label">æ“ä½œç³»ç»Ÿ</div>
              <div class="info-value" id="os"></div>
            </div>
            <div class="info-item">
              <div class="info-label">è®¾å¤‡ç±»å‹</div>
              <div class="info-value" id="deviceCategory"></div>
            </div>
            <div class="info-item">
              <div class="info-label">å±å¹•åˆ†è¾¨ç‡</div>
              <div class="info-value" id="screenResolution"></div>
            </div>
            <div class="info-item">
              <div class="info-label">å¯ç”¨å±å¹•å°ºå¯¸</div>
              <div class="info-value" id="availableScreen"></div>
            </div>
            <div class="info-item">
              <div class="info-label">é¢œè‰²æ·±åº¦</div>
              <div class="info-value" id="colorDepth"></div>
            </div>
            <div class="info-item">
              <div class="info-label">è¯­è¨€</div>
              <div class="info-value" id="language"></div>
            </div>
            <div class="info-item">
              <div class="info-label">æ—¶åŒº</div>
              <div class="info-value" id="timezone"></div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- ç½‘ç»œä¿¡æ¯å¡ç‰‡ -->
      <div class="info-card">
        <div class="card-header bg-secondary-light">
          <span>ğŸ“¶</span>
          <h2>ç½‘ç»œä¿¡æ¯</h2>
        </div>
        <div class="card-body">
          <div class="info-list">
            <div class="info-item">
              <div class="info-label">åœ¨çº¿çŠ¶æ€</div>
              <div class="info-value" id="onlineStatus"></div>
            </div>
            <div class="info-item">
              <div class="info-label">è¿æ¥ç±»å‹</div>
              <div class="info-value" id="netConnectionType"></div>
            </div>
            <div class="info-item">
              <div class="info-label">æœ‰æ•ˆå¸¦å®½ (Mbps)</div>
              <div class="info-value" id="effectiveBandwidth"></div>
            </div>
            <div class="info-item">
              <div class="info-label">RTT (ms)</div>
              <div class="info-value" id="rtt"></div>
            </div>
            <div class="info-item">
              <div class="info-label">IP åœ°å€</div>
              <div class="info-value" id="ipAddress">æ£€æµ‹ä¸­...</div>
            </div>
            <div class="info-item">
              <div class="info-label">åœ°ç†ä½ç½®</div>
              <div class="info-value" id="location">æœªè·å–</div>
            </div>
            <div class="info-item">
              <div class="info-label">æœåŠ¡å™¨æ—¶é—´</div>
              <div class="info-value" id="serverTime">åŒæ­¥ä¸­...</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- å‰ªè´´æ¿ä¿¡æ¯å¡ç‰‡ -->
      <div class="info-card full-width">
        <div class="card-header bg-warning-light">
          <span>ğŸ“‹</span>
          <h2>å‰ªè´´æ¿ä¿¡æ¯</h2>
        </div>
        <div class="card-body">
          <div class="clipboard-actions">
            <button id="readClipboard" class="clipboard-btn bg-warning">
              <span>ğŸ“‹</span>è¯»å–å‰ªè´´æ¿
            </button>
            <button id="writeClipboard" class="clipboard-btn bg-primary">
              <span>ğŸ“</span>å†™å…¥ç¤ºä¾‹æ–‡æœ¬åˆ°å‰ªè´´æ¿
            </button>
          </div>
          
          <div class="clipboard-content" id="clipboardContent">
            å‰ªè´´æ¿å†…å®¹å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...
          </div>
          
          <div class="clipboard-note">
            <span>â„¹ï¸</span>
            <span>æ³¨æ„ï¼šæµè§ˆå™¨å¯èƒ½ä¼šé™åˆ¶å‰ªè´´æ¿è®¿é—®ï¼Œé€šå¸¸éœ€è¦ç”¨æˆ·äº¤äº’æ‰èƒ½è¯»å–æˆ–å†™å…¥å‰ªè´´æ¿ã€‚</span>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <!-- é¡µè„š -->
  <footer>
    <div class="container footer-content">
      <p>è®¾å¤‡ä¿¡æ¯æ£€æµ‹å™¨ &copy; 2023 | ä»…åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œä¸ä¼šä¸Šä¼ ä»»ä½•æ•°æ®</p>
      <p>ä½¿ç”¨åŸç”Ÿ JavaScript æ„å»ºï¼Œä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹åº“</p>
    </div>
  </footer>
  
  <!-- é€šçŸ¥ç»„ä»¶ -->
  <div id="notification" class="notification">
    <span id="notificationIcon">â„¹ï¸</span>
    <span id="notificationText">é€šçŸ¥å†…å®¹</span>
  </div>

  <script>
    // DOM å…ƒç´ 
    const refreshBtn = document.getElementById('refreshBtn');
    const notification = document.getElementById('notification');
    const notificationIcon = document.getElementById('notificationIcon');
    const notificationText = document.getElementById('notificationText');
    
    // å‰ªè´´æ¿ç›¸å…³
    const readClipboardBtn = document.getElementById('readClipboard');
    const writeClipboardBtn = document.getElementById('writeClipboard');
    const clipboardContent = document.getElementById('clipboardContent');
    const clipboardStatus = document.getElementById('clipboardStatus');
    const clipboardPreview = document.getElementById('clipboardPreview');
    
    // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', () => {
      // åˆå§‹åŒ–æ‰€æœ‰ä¿¡æ¯
      initAllInfo();
      
      // ç›‘å¬ç½‘ç»œçŠ¶æ€å˜åŒ–
      window.addEventListener('online', updateNetworkInfo);
      window.addEventListener('offline', updateNetworkInfo);
      
      // åˆ·æ–°æŒ‰é’®äº‹ä»¶
      refreshBtn.addEventListener('click', () => {
        showNotification('æ­£åœ¨åˆ·æ–°ä¿¡æ¯...', 'âŸ³');
        setTimeout(() => {
          initAllInfo();
          showNotification('ä¿¡æ¯å·²æ›´æ–°', 'âœ“');
        }, 500);
      });
      
      // å‰ªè´´æ¿è¯»å–æŒ‰é’®
      readClipboardBtn.addEventListener('click', async () => {
        try {
          const text = await navigator.clipboard.readText();
          clipboardContent.textContent = text || 'å‰ªè´´æ¿ä¸ºç©º';
          clipboardStatus.innerHTML = '<span>âœ“</span>å·²è¯»å–';
          clipboardStatus.className = 'status-badge bg-success';
          
          // æ›´æ–°é¢„è§ˆ
          clipboardPreview.textContent = text.length > 30 ? text.substring(0, 30) + '...' : text || 'å‰ªè´´æ¿ä¸ºç©º';
          
          showNotification('å·²æˆåŠŸè¯»å–å‰ªè´´æ¿å†…å®¹', 'âœ“');
        } catch (err) {
          console.error('æ— æ³•è¯»å–å‰ªè´´æ¿:', err);
          clipboardContent.textContent = 'æ— æ³•è®¿é—®å‰ªè´´æ¿ï¼Œè¯·ç¡®ä¿æˆäºˆæƒé™å¹¶åœ¨ç”¨æˆ·äº¤äº’ä¸­å°è¯•ã€‚';
          clipboardStatus.innerHTML = '<span>âš ï¸</span>è®¿é—®å¤±è´¥';
          clipboardStatus.className = 'status-badge bg-danger';
          showNotification('æ— æ³•è®¿é—®å‰ªè´´æ¿ï¼Œè¯·æ£€æŸ¥æƒé™', 'âš ï¸');
        }
      });
      
      // å‰ªè´´æ¿å†™å…¥æŒ‰é’®
      writeClipboardBtn.addEventListener('click', async () => {
        const sampleText = `è®¾å¤‡ä¿¡æ¯æ£€æµ‹å™¨ - ${new Date().toLocaleString()}
æ£€æµ‹åˆ°çš„IP: ${document.getElementById('ipAddress').textContent || 'æœªçŸ¥'}
æµè§ˆå™¨: ${document.getElementById('browserName').textContent || 'æœªçŸ¥'}`;
        
        try {
          await navigator.clipboard.writeText(sampleText);
          clipboardContent.textContent = sampleText;
          clipboardStatus.innerHTML = '<span>âœ“</span>å·²å†™å…¥';
          clipboardStatus.className = 'status-badge bg-success';
          clipboardPreview.textContent = 'ç¤ºä¾‹æ–‡æœ¬å·²å†™å…¥å‰ªè´´æ¿';
          showNotification('å·²æˆåŠŸå†™å…¥å‰ªè´´æ¿', 'âœ“');
        } catch (err) {
          console.error('æ— æ³•å†™å…¥å‰ªè´´æ¿:', err);
          clipboardStatus.innerHTML = '<span>âš ï¸</span>å†™å…¥å¤±è´¥';
          clipboardStatus.className = 'status-badge bg-danger';
          showNotification('æ— æ³•å†™å…¥å‰ªè´´æ¿ï¼Œè¯·æ£€æŸ¥æƒé™', 'âš ï¸');
        }
      });
    });
    
    // åˆå§‹åŒ–æ‰€æœ‰ä¿¡æ¯
    function initAllInfo() {
      detectDeviceInfo();
      updateNetworkInfo();
      getIpAddress();
      getServerTime();
    }
    
    // æ£€æµ‹è®¾å¤‡ä¿¡æ¯
    function detectDeviceInfo() {
      const userAgent = navigator.userAgent;
      document.getElementById('userAgent').textContent = userAgent;
      
      // æ£€æµ‹æµè§ˆå™¨
      let browserName, browserVersion;
      if (userAgent.indexOf('Chrome') > -1) {
        browserName = 'Chrome';
        browserVersion = userAgent.match(/Chrome\/(\d+\.\d+)/)[1];
      } else if (userAgent.indexOf('Firefox') > -1) {
        browserName = 'Firefox';
        browserVersion = userAgent.match(/Firefox\/(\d+\.\d+)/)[1];
      } else if (userAgent.indexOf('Safari') > -1 && userAgent.indexOf('Chrome') === -1) {
        browserName = 'Safari';
        browserVersion = userAgent.match(/Version\/(\d+\.\d+)/)[1];
      } else if (userAgent.indexOf('Edge') > -1) {
        browserName = 'Edge';
        browserVersion = userAgent.match(/Edge\/(\d+\.\d+)/)[1];
      } else if (userAgent.indexOf('MSIE') > -1 || userAgent.indexOf('Trident') > -1) {
        browserName = 'Internet Explorer';
        browserVersion = userAgent.match(/(MSIE \d+\.\d+|rv:(\d+\.\d+))/)[1];
      } else {
        browserName = 'æœªçŸ¥æµè§ˆå™¨';
        browserVersion = 'æœªçŸ¥ç‰ˆæœ¬';
      }
      
      document.getElementById('browserName').textContent = browserName;
      document.getElementById('browserVersion').textContent = browserVersion;
      
      // æ£€æµ‹æ“ä½œç³»ç»Ÿ
      let os;
      if (userAgent.indexOf('Windows') > -1) {
        os = 'Windows';
      } else if (userAgent.indexOf('Mac OS X') > -1) {
        os = 'macOS';
      } else if (userAgent.indexOf('Linux') > -1) {
        os = 'Linux';
      } else if (userAgent.indexOf('Android') > -1) {
        os = 'Android';
      } else if (userAgent.indexOf('iPhone') > -1 || userAgent.indexOf('iPad') > -1) {
        os = 'iOS';
      } else {
        os = 'æœªçŸ¥æ“ä½œç³»ç»Ÿ';
      }
      document.getElementById('os').textContent = os;
      
      // æ£€æµ‹è®¾å¤‡ç±»å‹
      let deviceType, deviceCategory, deviceStatusEl;
      deviceStatusEl = document.getElementById('deviceStatus');
      
      if (/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)) {
        deviceType = 'ç§»åŠ¨è®¾å¤‡';
        deviceCategory = /iPhone|iPad|iPod/.test(userAgent) ? 'iOS è®¾å¤‡' : 'Android è®¾å¤‡';
        deviceStatusEl.innerHTML = '<span>ğŸ“±</span>ç§»åŠ¨è®¾å¤‡';
      } else {
        deviceType = 'æ¡Œé¢è®¾å¤‡';
        deviceCategory = os === 'macOS' ? 'Mac ç”µè„‘' : 'PC ç”µè„‘';
        deviceStatusEl.innerHTML = '<span>ğŸ–¥ï¸</span>æ¡Œé¢è®¾å¤‡';
      }
      
      document.getElementById('deviceType').textContent = deviceType;
      document.getElementById('deviceCategory').textContent = deviceCategory;
      
      // å±å¹•ä¿¡æ¯
      document.getElementById('screenResolution').textContent = 
        `${screen.width} x ${screen.height} px`;
      document.getElementById('availableScreen').textContent = 
        `${screen.availWidth} x ${screen.availHeight} px`;
      document.getElementById('colorDepth').textContent = 
        `${screen.colorDepth} ä½`;
      
      // è¯­è¨€ä¿¡æ¯
      document.getElementById('language').textContent = 
        navigator.language || navigator.userLanguage;
      
      // æ—¶åŒºä¿¡æ¯
      document.getElementById('timezone').textContent = 
        Intl.DateTimeFormat().resolvedOptions().timeZone;
    }
    
    // æ›´æ–°ç½‘ç»œä¿¡æ¯
    function updateNetworkInfo() {
      // åœ¨çº¿çŠ¶æ€
      const isOnline = navigator.onLine;
      document.getElementById('onlineStatus').textContent = isOnline ? 'åœ¨çº¿' : 'ç¦»çº¿';
      
      // ç½‘ç»œçŠ¶æ€æŒ‡ç¤ºå™¨
      const networkStatusEl = document.getElementById('networkStatus');
      if (isOnline) {
        networkStatusEl.innerHTML = '<span>âœ“</span>å·²è¿æ¥';
        networkStatusEl.className = 'status-badge bg-success';
      } else {
        networkStatusEl.innerHTML = '<span>âš ï¸</span>å·²æ–­å¼€';
        networkStatusEl.className = 'status-badge bg-danger';
      }
      
      // è¿æ¥ç±»å‹
      let connectionType, effectiveBandwidth, rtt;
      if (navigator.connection) {
        connectionType = navigator.connection.type || 'unknown';
        // è½¬æ¢ä¸ºæ›´å‹å¥½çš„åç§°
        const connectionTypes = {
          'wifi': 'Wi-Fi',
          'cellular': 'èœ‚çªç§»åŠ¨ç½‘ç»œ',
          'ethernet': 'ä»¥å¤ªç½‘',
          'bluetooth': 'è“ç‰™',
          'none': 'æ— ç½‘ç»œ',
          'unknown': 'æœªçŸ¥'
        };
        connectionType = connectionTypes[connectionType] || connectionType;
        
        // æœ‰æ•ˆå¸¦å®½ (Mbps)
        effectiveBandwidth = navigator.connection.downlink ? 
          (navigator.connection.downlink).toFixed(2) + ' Mbps' : 'æœªçŸ¥';
        
        // RTT (ms)
        rtt = navigator.connection.rtt ? 
          navigator.connection.rtt + ' ms' : 'æœªçŸ¥';
      } else {
        connectionType = 'æ— æ³•è·å–è¯¦ç»†ä¿¡æ¯';
        effectiveBandwidth = 'ä¸æ”¯æŒ';
        rtt = 'ä¸æ”¯æŒ';
      }
      
      document.getElementById('connectionType').textContent = connectionType;
      document.getElementById('netConnectionType').textContent = connectionType;
      document.getElementById('effectiveBandwidth').textContent = effectiveBandwidth;
      document.getElementById('rtt').textContent = rtt;
    }
    
    // è·å–IPåœ°å€ (ä½¿ç”¨å…¬å…±APIï¼Œä½†ä¸å¼•å…¥SDK)
    function getIpAddress() {
      // ä½¿ç”¨å¤šä¸ªå¤‡é€‰APIä»¥æé«˜æˆåŠŸç‡
      const ipApis = [
        'https://api.ipify.org?format=json',
        'https://ipapi.co/json/',
        'https://ipinfo.io/json'
      ];
      
      let apiIndex = 0;
      
      function tryNextApi() {
        if (apiIndex >= ipApis.length) {
          document.getElementById('ipAddress').textContent = 'æ— æ³•è·å–';
          return;
        }
        
        fetch(ipApis[apiIndex])
          .then(response => response.json())
          .then(data => {
            let ip, location = 'æœªçŸ¥';
            
            // æå–IPåœ°å€
            if (data.ip) {
              ip = data.ip;
            } else if (data.query) {
              ip = data.query;
            }
            
            // æå–ä½ç½®ä¿¡æ¯
            if (data.city && data.region && data.country) {
              location = `${data.country} ${data.region} ${data.city}`;
            } else if (data.loc) {
              location = data.loc;
            }
            
            if (ip) {
              document.getElementById('ipAddress').textContent = ip;
              document.getElementById('location').textContent = location;
            } else {
              throw new Error('æœªæ‰¾åˆ°IPåœ°å€');
            }
          })
          .catch(() => {
            apiIndex++;
            tryNextApi();
          });
      }
      
      tryNextApi();
    }
    
    // è·å–æœåŠ¡å™¨æ—¶é—´
    function getServerTime() {
      fetch('https://worldtimeapi.org/api/ip')
        .then(response => response.json())
        .then(data => {
          const serverTime = new Date(data.datetime).toLocaleString();
          document.getElementById('serverTime').textContent = serverTime;
        })
        .catch(() => {
          // å¤±è´¥æ—¶ä½¿ç”¨æœ¬åœ°æ—¶é—´ä½œä¸ºå¤‡é€‰
          document.getElementById('serverTime').textContent = 
            `æœ¬åœ°æ—¶é—´: ${new Date().toLocaleString()}`;
        });
    }
    
    // æ˜¾ç¤ºé€šçŸ¥
    function showNotification(text, icon) {
      notificationText.textContent = text;
      notificationIcon.textContent = icon;
      
      // æ˜¾ç¤ºé€šçŸ¥
      notification.classList.add('show');
      
      // 3ç§’åéšè—
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }
    
    // æ»šåŠ¨æ—¶æ”¹å˜å¯¼èˆªæ æ ·å¼
    window.addEventListener('scroll', () => {
      const header = document.querySelector('header');
      if (window.scrollY > 10) {
        header.style.padding = '10px 0';
      } else {
        header.style.padding = '15px 0';
      }
    });
  </script>
</body>
</html>
