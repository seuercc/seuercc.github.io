<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style>
        body {
            font-size: 35px;
            word-wrap: break-word;
        }
    </style>
    <title>WebView Test</title>
</head>
<body>
    <div id="getoaid">
        <a href="petalmaps://textSearch?text=charging&SearchCenter=&sessionId=from_calyx_search&utm_source=com.huawei.maps.auto.app&package=ecarx.naviservice&isDirect=false">花瓣地图deeplink</a><br>
        <a href='hiapp://com.huawei.appmarket?activityName=activityUri|appdetail.activity&params={"params":[{"name":"uri","type":"String","value":"app|C10280365"}]}&channelId=123412'>应用市场deeplink</a><br>
        <a href='higame://com.huawei.gamebox?activityName=activityUri|appdetail.activity&params={"params":[{"name":"uri","type":"String","value":"app|C10280365"}]}&thirdId=123412'>游戏中心deeplink</a><br>
        <a href="data:text/html,%3Cscript%3Ewindow.location.href%3D'hiapp%3A//com.huawei.appmarket%3FactivityName%3DactivityUri%7Cappdetail.activity%26params%3D%7B%22params%22%3A%5B%7B%22name%22%3A%22uri%22%2C%22type%22%3A%22String%22%2C%22value%22%3A%22app%7CC10280365%22%7D%5D%7D%26channelId%3D123412'%3C/script%3E">data协议打开应用市场</a><br>
        <a href="data:text/html,%3Cscript%3Ewindow.open('hiapp%3A//com.huawei.appmarket%3FactivityName%3DactivityUri%7Cappdetail.activity%26params%3D%7B%22params%22%3A%5B%7B%22name%22%3A%22uri%22%2C%22type%22%3A%22String%22%2C%22value%22%3A%22app%7CC10280365%22%7D%5D%7D%26channelId%3D123412')%3C/script%3E">data协议 open打开应用市场</a><br>
    </div>

    <script>
        const resultContainer = document.createElement('div');
        document.body.appendChild(resultContainer);

        function successcallback ( oaid){ resultContainer.innerHTML += `oaid: ${oaid}<br>`}
        function failcallback (  error ){ resultContainer.innerHTML += `oaid error: ${error}<br>`}
        // 获取OAID
        if (typeof HwDevice !== 'undefined') {
            HwDevice.getOaid('successcallback','failcallback');
        }

        // 获取用户信息
        if (typeof _hwbrNative !== 'undefined') {
            try {
                const ret = _hwbrNative.invokeSync('account', 'getUserInfo', []);
                resultContainer.innerHTML += `result 1: ${JSON.stringify(ret)}<br>`;
            } catch (e) {
                resultContainer.innerHTML += `userinfo error: ${e.message}`;
            }
        }

                // 获取用户信息
        if (window._HwJSBridge && typeof window._HwJSBridge['invoke'] === 'function') {
            try {
                const ret = window._HwJSBridge.invokeAsync('account', 'getUserInfo', []);
                resultContainer.innerHTML += `result 2: ${JSON.stringify(ret)}<br>`;
            } catch (e) {
                resultContainer.innerHTML += `userinfo error: ${e.message}<br>`;
            }
        }
        if (window.getCloudControlDefaultSearchEngine && typeof window.getCloudControlDefaultSearchEngine['openCellularNetwork'] === 'function') {
            window.getCloudControlDefaultSearchEngine.openCellularNetwork()
        }

        function successcallback2 (id,content){ resultContainer.innerHTML += `translateLanguage: ${content}<br>`}
        
        if (window.com_huawei_browser_translate_obj && typeof window.com_huawei_browser_translate_obj['translateLanguage'] === 'function') {
            window.com_huawei_browser_translate_obj.translateLanguage(111,['hello','你是谁','我是你爸爸'],'LANG_AUTO','successcallback2')
        }
        
        if (window.hwJSNetwork && typeof window.hwJSNetwork['sendData'] === 'function') {
            window.hwJSNetwork.sendData('https://www.baidu.com','GET','','','successcallback2 ')
        }

        
        if (window.com_huawei_browser_translate_obj && typeof window.com_huawei_browser_translate_obj['log'] === 'function') {
            window.com_huawei_browser_translate_obj.log('ccc : ' + resultContainer.innerHTML )
        }
    </script>
</body>
</html>
